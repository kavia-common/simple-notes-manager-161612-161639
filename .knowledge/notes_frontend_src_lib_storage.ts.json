{"is_source_file": true, "format": "TypeScript", "description": "This file manages the storage operations for notes in a note-taking application, including loading, saving, creating, updating, deleting, and retrieving notes using localStorage.", "external_files": ["./types"], "external_methods": ["crypto.randomUUID()"], "published": ["loadNotes", "saveNotes", "createNote", "upsertNote", "deleteNote", "getNote"], "classes": [], "methods": [{"name": "export function loadNotes(): Note[] { loadNotes", "description": "Loads all notes from localStorage, returning an empty array if none exist or if parsing fails.", "scope": "", "scopeKind": ""}, {"name": "export function saveNotes(notes: Note[]): void { saveNotes", "description": "Persists an array of notes to localStorage.", "scope": "", "scopeKind": ""}, {"name": "export function createNote(title = 'Untitled', content = ''): Note { createNote", "description": "Creates a new note object with default or specified title and content, assigning a unique ID and timestamps.", "scope": "", "scopeKind": ""}, {"name": "export function upsertNote(note: Note): Note[] { upsertNote", "description": "Inserts a new note or updates an existing one, updating timestamp and persisting changes.", "scope": "", "scopeKind": ""}, {"name": "export function deleteNote(id: NoteId): Note[] { deleteNote", "description": "Deletes a note by its ID and persists the change.", "scope": "", "scopeKind": ""}, {"name": "export function getNote(id: NoteId): Note | undefined { getNote", "description": "Retrieves a note by its ID from local storage.", "scope": "", "scopeKind": ""}], "calls": ["localStorage.getItem", "JSON.parse", "Array.isArray", "Array.prototype.map", "JSON.stringify", "localStorage.setItem", "crypto.randomUUID", "Date.now", "Array.prototype.findIndex", "Array.prototype.unshift", "Array.prototype.filter", "Array.prototype.find"], "search-terms": ["localStorage", "notes management", "storage functions", "Notes app storage"], "state": 2, "file_id": 14, "knowledge_revision": 28, "git_revision": "", "ctags": [{"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-161612-161639/notes_frontend/src/lib/storage.ts", "pattern": "/^const STORAGE_KEY = 'notes_app_notes_v1';$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "createNote", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-161612-161639/notes_frontend/src/lib/storage.ts", "pattern": "/^export function createNote(title = 'Untitled', content = ''): Note {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "deleteNote", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-161612-161639/notes_frontend/src/lib/storage.ts", "pattern": "/^export function deleteNote(id: NoteId): Note[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getNote", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-161612-161639/notes_frontend/src/lib/storage.ts", "pattern": "/^export function getNote(id: NoteId): Note | undefined {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-161612-161639/notes_frontend/src/lib/storage.ts", "pattern": "/^  const idx = notes.findIndex((n) => n.id === note.id);$/", "language": "TypeScript", "kind": "constant", "scope": "upsertNote", "scopeKind": "function"}, {"_type": "tag", "name": "loadNotes", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-161612-161639/notes_frontend/src/lib/storage.ts", "pattern": "/^export function loadNotes(): Note[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-161612-161639/notes_frontend/src/lib/storage.ts", "pattern": "/^  const notes = loadNotes().filter((n) => n.id !== id);$/", "language": "TypeScript", "kind": "constant", "scope": "deleteNote", "scopeKind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-161612-161639/notes_frontend/src/lib/storage.ts", "pattern": "/^  const notes = loadNotes();$/", "language": "TypeScript", "kind": "constant", "scope": "upsertNote", "scopeKind": "function"}, {"_type": "tag", "name": "now", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-161612-161639/notes_frontend/src/lib/storage.ts", "pattern": "/^  const now = Date.now();$/", "language": "TypeScript", "kind": "constant", "scope": "createNote", "scopeKind": "function"}, {"_type": "tag", "name": "parsed", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-161612-161639/notes_frontend/src/lib/storage.ts", "pattern": "/^    const parsed = JSON.parse(raw) as Note[];$/", "language": "TypeScript", "kind": "constant", "scope": "loadNotes", "scopeKind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-161612-161639/notes_frontend/src/lib/storage.ts", "pattern": "/^    const raw = localStorage.getItem(STORAGE_KEY);$/", "language": "TypeScript", "kind": "constant", "scope": "loadNotes", "scopeKind": "function"}, {"_type": "tag", "name": "saveNotes", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-161612-161639/notes_frontend/src/lib/storage.ts", "pattern": "/^export function saveNotes(notes: Note[]): void {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "updated", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-161612-161639/notes_frontend/src/lib/storage.ts", "pattern": "/^  const updated = { ...note, updatedAt: Date.now() };$/", "language": "TypeScript", "kind": "constant", "scope": "upsertNote", "scopeKind": "function"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-161612-161639/notes_frontend/src/lib/storage.ts", "pattern": "/^  const updated = { ...note, updatedAt: Date.now() };$/", "language": "TypeScript", "kind": "constant", "scope": "upsertNote", "scopeKind": "function"}, {"_type": "tag", "name": "upsertNote", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-161612-161639/notes_frontend/src/lib/storage.ts", "pattern": "/^export function upsertNote(note: Note): Note[] {$/", "language": "TypeScript", "kind": "function"}], "hash": "ed893d3cc72bc5a98990cd9fefa7e76f", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/lib/storage.ts", "revision_history": [{"28": ""}]}